<!DOCTYPE html>
<html>
<head>
	<title>Weather Forecast</title>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
	<canvas id="weather-chart"></canvas>
	<script>
		// 获取从后端传输的数据
		var dates = JSON.parse('{{ dates|safe  }}');
		var sunrise = JSON.parse('{{ sunrise|safe  }}');
		var sunset = JSON.parse('{{ sunset|safe  }}');
		var highTemps = JSON.parse('{{ high_temps|safe  }}');
		var lowTemps = JSON.parse('{{ low_temps|safe  }}');
		var windSpeeds = JSON.parse('{{ windSpeed|safe  }}');
		var precipitations = JSON.parse('{{ precipitations|safe  }}');
		var visibilities = JSON.parse('{{ visibilities|safe  }}');

		// 创建天气预报图表
		var ctx = document.getElementById('weather-chart').getContext('2d');
		var chart = new Chart(ctx, {
			type: 'line',
			data: {
				labels: dates,
				datasets: [
					{
						label: 'High Temperatures',
						data: highTemps,
						borderColor: 'red',
						fill: false
					},
					{
						label: 'Low Temperatures',
						data: lowTemps,
						borderColor: 'blue',
						fill: false
					},
					{
						label: 'Wind Speeds',
						data: windSpeeds,
						borderColor: 'green',
						fill: false
					},
					{
						label: 'Precipitations',
						data: precipitations,
						borderColor: 'purple',
						fill: false
					},
					{
						label: 'Visibilities',
						data: visibilities,
						borderColor: 'orange',
						fill: false
					}
				]
			},
			options: {
				title: {
					display: true,
					text: 'Weather Forecast'
				},
				scales: {
					yAxes: [{
						ticks: {
							beginAtZero: true
						}
					}]
				}
			}
		});
	</script>
</body>
</html>
